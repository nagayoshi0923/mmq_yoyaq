@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    
    /* MMQãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼šçµ±ä¸€å…¥åŠ›ã‚¨ãƒªã‚¢èƒŒæ™¯è‰² */
    --input-bg: #F6F9FB;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    
    /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰æ™‚ã®å…¥åŠ›ã‚¨ãƒªã‚¢èƒŒæ™¯è‰² */
    --input-bg: 217.2 32.6% 17.5%;
  }
}

@layer base {
  /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã®å³åº§å¾©å…ƒã®ãŸã‚ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ– */
  html {
    scroll-behavior: auto !important;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    overflow-x: clip; /* hiddenã®ä»£ã‚ã‚Šã«clipã‚’ä½¿ç”¨ï¼ˆstickyã«å½±éŸ¿ã—ãªã„ï¼‰ */
  }
  
  /* PCç‰ˆã§ã®æ–‡å­—ã‚µã‚¤ã‚ºè‡ªå‹•æ‹¡å¤§ã‚’å»ƒæ­¢ */
}

@layer utilities {
  /* æ•°å€¤å…¥åŠ›ã®ã‚¹ãƒ”ãƒŠãƒ¼ã‚’éè¡¨ç¤º */
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type="number"] {
    -moz-appearance: textfield;
  }

  /* ãƒ†ã‚­ã‚¹ãƒˆçœç•¥ */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
  
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }

  /* ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
  .schedule-table-cell {
    @apply p-0 text-center align-middle;
  }

  /* ãƒ†ãƒ¼ãƒ–ãƒ«ã‚»ãƒ«ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚èƒŒæ™¯è‰²å¤‰æ›´ã‚’ç„¡åŠ¹åŒ– */
  .schedule-table-cell:focus,
  .schedule-table-cell:focus-within {
    background-color: inherit !important;
  }

  /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å¸¸ã«è¡¨ç¤ºï¼ˆMacå¯¾å¿œï¼‰ */
  .scrollable-list {
    overflow-y: scroll !important;
    -webkit-overflow-scrolling: touch;
  }

  /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
  .scrollable-list::-webkit-scrollbar {
    width: 8px;
  }

  .scrollable-list::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .scrollable-list::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }

  .scrollable-list::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* Popoverã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ« */
  [data-radix-popper-content-wrapper] {
    z-index: 100 !important;
  }

  /* æ¤œç´¢å…¥åŠ›æ¬„ã‚’å¼·åˆ¶çš„ã«åŠè§’è‹±æ•°ãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹ */
  input[inputmode="latin"] {
    ime-mode: disabled !important;
    -ms-ime-mode: disabled !important;
    -webkit-ime-mode: disabled !important;
  }

  /* TanStack Tableã®ãƒ‡ãƒãƒƒã‚°ã‚¢ã‚¤ã‚³ãƒ³ã‚’éè¡¨ç¤º */
  [data-table-debug-icon],
  [data-table-debug],
  .ts-table-debug,
  #tanstack-table-debug,
  [data-table-debug-icon] *,
  [data-table-debug] *,
  .ts-table-debug *,
  button[data-table-debug-icon],
  div[data-table-debug],
  span[data-table-debug-icon],
  /* ã‚ˆã‚Šåºƒç¯„å›²ã®ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ */
  *[class*="debug"],
  *[id*="debug"],
  [class*="tanstack"][class*="debug"],
  [id*="tanstack"][id*="debug"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    width: 0 !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    position: absolute !important;
    left: -9999px !important;
  }
}

/* MMQãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¯ãƒ©ã‚¹ */
@layer components {
  /* çµ±ä¸€å…¥åŠ›ã‚¨ãƒªã‚¢èƒŒæ™¯è‰² */
  .input-bg {
    background-color: var(--input-bg);
  }
  
  /* ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«çµ±ä¸€ã‚¹ã‚¿ã‚¤ãƒ« */
  .form-label {
    @apply text-sm font-medium leading-none;
  }
  
  /* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çµ±ä¸€ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆç”Ÿã®HTMLè¦ç´ ç”¨ï¼‰ */
  .form-input {
    @apply flex h-10 w-full rounded-md border border-input px-3 py-2 text-sm;
    @apply ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium;
    @apply placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0;
    @apply focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50;
    @apply touch-manipulation;
    background-color: var(--input-bg);
  }
  
  /* æ—¥ä»˜å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çµ±ä¸€ã‚¹ã‚¿ã‚¤ãƒ« */
  .form-date-input {
    @apply border rounded px-3 py-2 text-sm;
    @apply focus:outline-none focus:ring-2 focus:ring-ring;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
    background-color: var(--input-bg);
  }
}

/* ============================================================
   é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰: DBæƒ…å ±ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ï¼ˆCSS onlyï¼‰
   ============================================================ */
@layer utilities {
  body.dev-mode [data-db] {
    position: relative;
    cursor: help;
  }
  
  body.dev-mode [data-db]::after {
    content: "ğŸ“Š " attr(data-db);
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    margin-left: 8px;
    padding: 4px 8px;
    background: #1e293b;
    color: #f8fafc;
    font-size: 11px;
    font-family: monospace;
    border-radius: 4px;
    white-space: nowrap;
    z-index: 99999;
    pointer-events: none;
    opacity: 0;
  }
  
  body.dev-mode [data-db]:hover::after {
    opacity: 1;
  }
  
  body.dev-mode::after {
    content: "ğŸ› ï¸ DEV";
    position: fixed;
    bottom: 8px;
    right: 8px;
    padding: 4px 10px;
    background: #7c3aed;
    color: white;
    font-size: 10px;
    font-weight: 600;
    border-radius: 4px;
    z-index: 99999;
    pointer-events: none;
  }
}
