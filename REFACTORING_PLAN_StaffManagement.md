# StaffManagement ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»

## ğŸ“Š ç¾çŠ¶åˆ†æ

**ç¾åœ¨ã®è¡Œæ•°**: 1,224è¡Œ
**ç›®æ¨™è¡Œæ•°**: 300è¡Œä»¥ä¸‹
**å‰Šæ¸›ç›®æ¨™**: 75%å‰Šæ¸›ï¼ˆ924è¡Œå‰Šæ¸›ï¼‰

---

## ğŸ¯ åˆ†å‰²æ–¹é‡

### 1. Custom Hooksï¼ˆhooks/ï¼‰

#### `useStaffOperations.ts`ï¼ˆæ—¢å­˜ã‚’æ‹¡å¼µï¼‰
- `loadStaff()`
- `handleSaveStaff()`
- `handleDeleteStaff()`
- ã‚¹ã‚¿ãƒƒãƒ•ã®CRUDæ“ä½œã‚’é›†ç´„

#### `useStaffFilters.ts`ï¼ˆæ–°è¦ï¼‰
- `searchTerm`, `statusFilter`
- `filteredStaff` ã®ãƒ­ã‚¸ãƒƒã‚¯
- ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‡¦ç†

#### `useStoresAndScenarios.ts`ï¼ˆæ–°è¦ï¼‰
- `loadStores()`
- `loadScenarios()`
- `getScenarioName()`
- åº—èˆ—ã¨ã‚·ãƒŠãƒªã‚ªãƒ‡ãƒ¼ã‚¿ç®¡ç†

#### `useStaffInvitation.ts`ï¼ˆæ–°è¦ï¼‰
- `handleInviteStaff()`
- `handleLinkExistingUser()`
- `handleLinkWithInvite()`
- æ‹›å¾…ãƒ»ç´ä»˜ã‘ãƒ­ã‚¸ãƒƒã‚¯

#### `useStaffModals.ts`ï¼ˆæ–°è¦ï¼‰
- ãƒ¢ãƒ¼ãƒ€ãƒ«ã®é–‹é–‰çŠ¶æ…‹ç®¡ç†
- `isEditModalOpen`, `isInviteModalOpen`, `isLinkModalOpen`, `deleteDialogOpen`
- `editingStaff`, `linkingStaff`, `staffToDelete`

---

### 2. Componentsï¼ˆcomponents/ï¼‰

#### `StaffCard.tsx`ï¼ˆæ–°è¦ï¼‰
- å€‹åˆ¥ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰ã®UI
- ã‚¢ãƒã‚¿ãƒ¼ã€åå‰ã€ãƒ­ãƒ¼ãƒ«ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- ç·¨é›†ãƒ»å‰Šé™¤ãƒœã‚¿ãƒ³
- ç´„100è¡Œ

#### `StaffList.tsx`ï¼ˆæ–°è¦ï¼‰
- ã‚¹ã‚¿ãƒƒãƒ•ã‚«ãƒ¼ãƒ‰ã®ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤º
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹
- ç´„80è¡Œ

#### `StaffFilters.tsx`ï¼ˆæ–°è¦ï¼‰
- æ¤œç´¢ãƒãƒ¼
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿
- ç´„60è¡Œ

#### `StaffInviteModal.tsx`ï¼ˆæ–°è¦ï¼‰
- æ‹›å¾…ãƒ¢ãƒ¼ãƒ€ãƒ«ã®UI
- ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†
- ç´„100è¡Œ

#### `StaffLinkModal.tsx`ï¼ˆæ–°è¦ï¼‰
- ç´ä»˜ã‘ãƒ¢ãƒ¼ãƒ€ãƒ«ã®UI
- æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ or æ–°è¦æ‹›å¾…ã®åˆ‡ã‚Šæ›¿ãˆ
- ç´„120è¡Œ

#### `DeleteStaffDialog.tsx`ï¼ˆæ–°è¦ï¼‰
- å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- ç´„50è¡Œ

---

### 3. Utilsï¼ˆutils/ï¼‰

#### `staffFormatters.tsx`ï¼ˆæ—¢å­˜ï¼‰
- `formatStaffAvailability()`
- `getAvailabilityBadgeVariant()`
- `getStatusBadge()`
- `getRoleBadges()`
- `getStoreColors()`

---

## ğŸ“ æƒ³å®šãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
StaffManagement/
â”œâ”€â”€ index.tsx                      (250è¡Œ) â† ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useStaffData.ts           (æ—¢å­˜)
â”‚   â”œâ”€â”€ useStaffOperations.ts     (200è¡Œ) â† CRUDæ“ä½œ
â”‚   â”œâ”€â”€ useStaffFilters.ts        (80è¡Œ)  â† ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ useStoresAndScenarios.ts  (100è¡Œ) â† åº—èˆ—ãƒ»ã‚·ãƒŠãƒªã‚ª
â”‚   â”œâ”€â”€ useStaffInvitation.ts     (180è¡Œ) â† æ‹›å¾…ãƒ»ç´ä»˜ã‘
â”‚   â””â”€â”€ useStaffModals.ts         (60è¡Œ)  â† ãƒ¢ãƒ¼ãƒ€ãƒ«çŠ¶æ…‹
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ StaffCard.tsx             (100è¡Œ) â† ã‚«ãƒ¼ãƒ‰è¡¨ç¤º
â”‚   â”œâ”€â”€ StaffList.tsx             (80è¡Œ)  â† ãƒªã‚¹ãƒˆè¡¨ç¤º
â”‚   â”œâ”€â”€ StaffFilters.tsx          (60è¡Œ)  â† ãƒ•ã‚£ãƒ«ã‚¿UI
â”‚   â”œâ”€â”€ StaffInviteModal.tsx      (100è¡Œ) â† æ‹›å¾…ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”œâ”€â”€ StaffLinkModal.tsx        (120è¡Œ) â† ç´ä»˜ã‘ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â””â”€â”€ DeleteStaffDialog.tsx     (50è¡Œ)  â† å‰Šé™¤ç¢ºèª
â””â”€â”€ utils/
    â””â”€â”€ staffFormatters.tsx       (æ—¢å­˜)
```

**ç·ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 13ãƒ•ã‚¡ã‚¤ãƒ«
**æ¨å®šç·è¡Œæ•°**: ç´„1,380è¡Œï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã«ã‚ˆã‚Šè‹¥å¹²å¢—åŠ ã™ã‚‹ãŒå¯èª­æ€§å‘ä¸Šï¼‰
**ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: 250è¡Œï¼ˆ79.6%å‰Šæ¸›ï¼‰

---

## ğŸ”„ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹é †

### Phase 1: ãƒ•ãƒƒã‚¯åˆ†é›¢ï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰
1. âœ… `useStaffData.ts`ï¼ˆæ—¢å­˜ï¼‰
2. â¬œ `useStaffOperations.ts` - CRUDæ“ä½œ
3. â¬œ `useStaffFilters.ts` - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
4. â¬œ `useStoresAndScenarios.ts` - åº—èˆ—ãƒ»ã‚·ãƒŠãƒªã‚ªç®¡ç†

### Phase 2: ãƒ¢ãƒ¼ãƒ€ãƒ«åˆ†é›¢ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰
5. â¬œ `useStaffModals.ts` - ãƒ¢ãƒ¼ãƒ€ãƒ«çŠ¶æ…‹
6. â¬œ `useStaffInvitation.ts` - æ‹›å¾…ãƒ­ã‚¸ãƒƒã‚¯

### Phase 3: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰
7. â¬œ `StaffCard.tsx` - ã‚«ãƒ¼ãƒ‰è¡¨ç¤º
8. â¬œ `StaffList.tsx` - ãƒªã‚¹ãƒˆè¡¨ç¤º
9. â¬œ `StaffFilters.tsx` - ãƒ•ã‚£ãƒ«ã‚¿UI

### Phase 4: ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå„ªå…ˆåº¦: ä½ï¼‰
10. â¬œ `StaffInviteModal.tsx` - æ‹›å¾…ãƒ¢ãƒ¼ãƒ€ãƒ«
11. â¬œ `StaffLinkModal.tsx` - ç´ä»˜ã‘ãƒ¢ãƒ¼ãƒ€ãƒ«
12. â¬œ `DeleteStaffDialog.tsx` - å‰Šé™¤ç¢ºèª

### Phase 5: çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
13. â¬œ `index.tsx` ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
14. â¬œ å‹•ä½œç¢ºèªã¨ãƒã‚°ä¿®æ­£
15. â¬œ ãƒªãƒ³ã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ

---

## ğŸ¨ è¨­è¨ˆåŸå‰‡

1. **Single Responsibility**: å„ãƒ•ã‚¡ã‚¤ãƒ«ã¯1ã¤ã®è²¬å‹™ã®ã¿
2. **Separation of Concerns**: UIã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Œå…¨åˆ†é›¢
3. **DRY**: é‡è¤‡ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ãƒƒã‚¯ã«é›†ç´„
4. **React Best Practices**: React.memoã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

---

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### å¯èª­æ€§
- ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒ250è¡Œã«å‰Šæ¸›
- å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒç‹¬ç«‹ã—ã¦ç†è§£å¯èƒ½

### ä¿å®ˆæ€§
- å¤‰æ›´ãŒå±€æ‰€åŒ–ã•ã‚Œã‚‹
- ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“ã«ãªã‚‹

### å†åˆ©ç”¨æ€§
- ãƒ•ãƒƒã‚¯ã¯ä»–ã®ãƒšãƒ¼ã‚¸ã§ã‚‚ä½¿ç”¨å¯èƒ½
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ±ç”¨æ€§å‘ä¸Š

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- React.memoã§ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢
- ã‚³ãƒ¼ãƒ‰åˆ†å‰²ã«ã‚ˆã‚‹ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–

---

**ä½œæˆæ—¥**: 2025-01-19
**æ‹…å½“**: AI Assistant
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨ˆç”»ä¸­

