# ãƒšãƒ¼ã‚¸ä¸€è¦§ãƒ»è¦ä»¶å®šç¾©æ›¸

> âš ï¸ **å¿…é ˆãƒ«ãƒ¼ãƒ«**: ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ ãƒ»å¤‰æ›´ãƒ»å‰Šé™¤ã—ãŸå ´åˆã¯ã€å¿…ãšã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã€‚
> è©³ç´°ã¯ `rules/rurle.mdc` ã®ã€Œ12) ãƒšãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã€ã‚’å‚ç…§ã€‚

---

## ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ§‹é€ ](#ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ§‹é€ )
3. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
4. [ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹é€ ](#ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹é€ )
5. [ãƒšãƒ¼ã‚¸ä¸€è¦§](#ãƒšãƒ¼ã‚¸ä¸€è¦§)
6. [æ›´æ–°å±¥æ­´](#æ›´æ–°å±¥æ­´)

---

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### MMQï¼ˆMurder Mystery Queueï¼‰ã¨ã¯

**ã©ã®ä¼šç¤¾ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã€ãƒãƒ¼ãƒ€ãƒ¼ãƒŸã‚¹ãƒ†ãƒªãƒ¼å…¬æ¼”ã®äºˆç´„ãƒ»é‹å–¶ç®¡ç†SaaSã€‚**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MMQ ã‚·ã‚¹ãƒ†ãƒ                               â”‚
â”‚              ã€œ ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå‹ äºˆç´„ç®¡ç†SaaS ã€œ                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  åˆ©ç”¨ä¼æ¥­ï¼ˆçµ„ç¹”ï¼‰                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ã‚¯ã‚¤ãƒ³ã‚ºãƒ¯ãƒ«ãƒ„â”‚ â”‚  ä¼šç¤¾A      â”‚ â”‚  ä¼šç¤¾B      â”‚ â”‚  ä¼šç¤¾C ...  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚              â”‚              â”‚              â”‚         â”‚
â”‚         â–¼              â–¼              â–¼              â–¼         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    å…±é€šãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ                       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚   äºˆç´„ã‚µã‚¤ãƒˆ     â”‚  â”‚   ç®¡ç†ãƒ„ãƒ¼ãƒ«     â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  (é¡§å®¢å‘ã‘)      â”‚  â”‚  (ã‚¹ã‚¿ãƒƒãƒ•å‘ã‘)  â”‚                 â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ã‚·ãƒŠãƒªã‚ªæ¤œç´¢   â”‚  â”‚ â€¢ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«   â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ å…¬æ¼”äºˆç´„       â”‚  â”‚ â€¢ äºˆç´„ç®¡ç†       â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ è²¸åˆ‡ç”³è¾¼       â”‚  â”‚ â€¢ ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†   â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ ãƒã‚¤ãƒšãƒ¼ã‚¸     â”‚  â”‚ â€¢ å£²ä¸Šåˆ†æ       â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â€» å„çµ„ç¹”ã¯ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ç©ºé–“ã‚’æŒã¡ã€ä»–çµ„ç¹”ã®ãƒ‡ãƒ¼ã‚¿ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯  â”‚
â”‚  â€» çµ„ç¹”ã”ã¨ã«ç‹¬è‡ªã®äºˆç´„ã‚µã‚¤ãƒˆURLï¼ˆ#booking/{slug}ï¼‰ã‚’æŒã¤         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»ãªç‰¹å¾´

| ç‰¹å¾´ | èª¬æ˜ |
|------|------|
| **ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ** | è¤‡æ•°ã®ä¼šç¤¾ãŒåŒã˜ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã€‚ãƒ‡ãƒ¼ã‚¿ã¯çµ„ç¹”ã”ã¨ã«å®Œå…¨åˆ†é›¢ |
| **SaaSå‹** | å„ç¤¾ã¯è‡ªç¤¾ã§ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ä¸è¦ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç™»éŒ²ã§ã™ãåˆ©ç”¨é–‹å§‹ |
| **çµ„ç¹”åˆ¥URL** | å„ç¤¾å›ºæœ‰ã®äºˆç´„ã‚µã‚¤ãƒˆï¼ˆ`#booking/{ä¼šç¤¾slug}`ï¼‰ |
| **å…±æœ‰ã‚·ãƒŠãƒªã‚ª** | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã‚·ãƒŠãƒªã‚ªã¯è¤‡æ•°çµ„ç¹”ã§åˆ©ç”¨å¯èƒ½ |

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Frontend**: React + TypeScript + Vite
- **UI**: TailwindCSS + shadcn/ui
- **Backend**: Supabase (PostgreSQL + Auth + RLS)
- **Hosting**: Vercel

---

## ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ§‹é€ 

### æ¦‚è¦

MMQã¯**ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå‹SaaS**ã€‚å„çµ„ç¹”ï¼ˆãƒãƒ¼ãƒ€ãƒ¼ãƒŸã‚¹ãƒ†ãƒªãƒ¼é‹å–¶ä¼šç¤¾ï¼‰ã¯ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ç©ºé–“ã‚’æŒã¡ã€ä»–çµ„ç¹”ã®ãƒ‡ãƒ¼ã‚¿ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ§‹é€                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  organizations ãƒ†ãƒ¼ãƒ–ãƒ«                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ çµ„ç¹”A           â”‚  â”‚ çµ„ç¹”B           â”‚  â”‚ çµ„ç¹”C           â”‚   â”‚
â”‚  â”‚ slug: org-a     â”‚  â”‚ slug: org-b     â”‚  â”‚ slug: org-c     â”‚   â”‚
â”‚  â”‚ plan: basic     â”‚  â”‚ plan: pro       â”‚  â”‚ plan: free      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                    â”‚                    â”‚            â”‚
â”‚           â–¼                    â–¼                    â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ çµ„ç¹”Aã®ãƒ‡ãƒ¼ã‚¿   â”‚  â”‚ çµ„ç¹”Bã®ãƒ‡ãƒ¼ã‚¿   â”‚  â”‚ çµ„ç¹”Cã®ãƒ‡ãƒ¼ã‚¿   â”‚   â”‚
â”‚  â”‚ â€¢ stores        â”‚  â”‚ â€¢ stores        â”‚  â”‚ â€¢ stores        â”‚   â”‚
â”‚  â”‚ â€¢ staff         â”‚  â”‚ â€¢ staff         â”‚  â”‚ â€¢ staff         â”‚   â”‚
â”‚  â”‚ â€¢ scenarios     â”‚  â”‚ â€¢ scenarios     â”‚  â”‚ â€¢ scenarios     â”‚   â”‚
â”‚  â”‚ â€¢ events        â”‚  â”‚ â€¢ events        â”‚  â”‚ â€¢ events        â”‚   â”‚
â”‚  â”‚ â€¢ reservations  â”‚  â”‚ â€¢ reservations  â”‚  â”‚ â€¢ reservations  â”‚   â”‚
â”‚  â”‚ â€¢ customers     â”‚  â”‚ â€¢ customers     â”‚  â”‚ â€¢ customers     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â€» å„çµ„ç¹”ã®ãƒ‡ãƒ¼ã‚¿ã¯ organization_id ã§åˆ†é›¢                       â”‚
â”‚  â€» RLSï¼ˆRow Level Securityï¼‰ã«ã‚ˆã‚Šä»–çµ„ç¹”ã®ãƒ‡ãƒ¼ã‚¿ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çµ„ç¹”ï¼ˆOrganizationï¼‰ã®ç¨®é¡

| ç¨®åˆ¥ | is_license_manager | èª¬æ˜ |
|------|-------------------|------|
| **ä¸€èˆ¬çµ„ç¹”** | `false` | MMQã‚’äºˆç´„ãƒ»ç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ä¼šç¤¾ï¼ˆã»ã¨ã‚“ã©ã®çµ„ç¹”ï¼‰ |
| **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†çµ„ç¹”** | `true` | ã‚·ãƒŠãƒªã‚ªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’ç®¡ç†ã—ã€ä»–ç¤¾ã‹ã‚‰ã®å…¬æ¼”å ±å‘Šã‚’å—ã‘ä»˜ã‘ã‚‹çµ„ç¹” |

> **ä¾‹**: ã‚¯ã‚¤ãƒ³ã‚ºãƒ¯ãƒ«ãƒ„ã¯ã€Œä¸€èˆ¬çµ„ç¹”ã€ã¨ã—ã¦è‡ªç¤¾ã®äºˆç´„ç®¡ç†ã‚’è¡Œã„ã¤ã¤ã€ã€Œãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†çµ„ç¹”ã€ã¨ã—ã¦ä»–ç¤¾ãŒå…¬æ¼”ã™ã‚‹ã‚·ãƒŠãƒªã‚ªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã‚‚è¡Œã†ã€‚

### URLæ§‹é€ ï¼ˆãƒ‘ã‚¹æ–¹å¼ï¼‰

äºˆç´„ã‚µã‚¤ãƒˆã¯çµ„ç¹”ã”ã¨ã«ç•°ãªã‚‹URLã§ã‚¢ã‚¯ã‚»ã‚¹ï¼š

```
#booking/{organization_slug}
#booking/{organization_slug}/scenario/{scenario_id}
#booking/{organization_slug}/calendar
#booking/{organization_slug}/list
```

**ä¾‹:**
- `#booking/queens-waltz` â†’ ã‚¯ã‚¤ãƒ³ã‚ºãƒ¯ãƒ«ãƒ„ã®äºˆç´„ã‚µã‚¤ãƒˆ
- `#booking/company-a` â†’ ä¼šç¤¾Aã®äºˆç´„ã‚µã‚¤ãƒˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

| ãƒ†ãƒ¼ãƒ–ãƒ« | ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ |
|---------|-------------|
| stores | `organization_id = ç¾åœ¨ã®çµ„ç¹”` |
| staff | `organization_id = ç¾åœ¨ã®çµ„ç¹”` |
| scenarios | `organization_id = ç¾åœ¨ã®çµ„ç¹”` OR `is_shared = true` |
| schedule_events | `organization_id = ç¾åœ¨ã®çµ„ç¹”` |
| reservations | `organization_id = ç¾åœ¨ã®çµ„ç¹”` |
| customers | `organization_id = ç¾åœ¨ã®çµ„ç¹”` |

### å…±æœ‰ã‚·ãƒŠãƒªã‚ª

`is_shared = true` ã®ã‚·ãƒŠãƒªã‚ªã¯å…¨çµ„ç¹”ã§åˆ©ç”¨å¯èƒ½ï¼ˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã‚·ãƒŠãƒªã‚ªï¼‰ã€‚

### ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

| ãƒšãƒ¼ã‚¸ | åˆ¶é™ |
|-------|------|
| `#organizations` | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†çµ„ç¹”ã®ã¿ |
| `#license-reports` | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†çµ„ç¹”ã®ã¿ |
| ãã®ä»– | çµ„ç¹”å†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ |

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/pages/
â”œâ”€â”€ AdminDashboard.tsx          # ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ï¼ˆãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰
â”‚
â”œâ”€â”€ PublicBookingTop/           # äºˆç´„ã‚µã‚¤ãƒˆãƒˆãƒƒãƒ—
â”‚   â”œâ”€â”€ index.tsx               # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ components/             # UIéƒ¨å“
â”‚   â”‚   â”œâ”€â”€ CalendarView.tsx
â”‚   â”‚   â”œâ”€â”€ LineupView.tsx
â”‚   â”‚   â”œâ”€â”€ ListView.tsx
â”‚   â”‚   â”œâ”€â”€ ScenarioCard.tsx
â”‚   â”‚   â””â”€â”€ SearchBar.tsx
â”‚   â””â”€â”€ hooks/                  # ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»çŠ¶æ…‹ç®¡ç†
â”‚       â”œâ”€â”€ useBookingData.ts   # â˜… organizationSlug ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
â”‚       â”œâ”€â”€ useBookingFilters.ts
â”‚       â”œâ”€â”€ useCalendarData.ts
â”‚       â””â”€â”€ useListViewData.ts
â”‚
â”œâ”€â”€ ScenarioDetailPage/         # ã‚·ãƒŠãƒªã‚ªè©³ç´°
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ BookingConfirmation/        # äºˆç´„ç¢ºèª
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ types.ts                # Propså®šç¾©ï¼ˆorganizationSlugå«ã‚€ï¼‰
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ PrivateBookingRequest/      # è²¸åˆ‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ ScheduleManager/            # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ StaffManagement/            # ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ ScenarioManagement/         # ã‚·ãƒŠãƒªã‚ªç®¡ç†
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ OrganizationManagement/     # çµ„ç¹”ç®¡ç†ï¼ˆãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆï¼‰
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ OrganizationCreateDialog.tsx
â”‚       â”œâ”€â”€ OrganizationEditDialog.tsx
â”‚       â””â”€â”€ OrganizationInviteDialog.tsx
â”‚
â”œâ”€â”€ OrganizationSettings/       # è‡ªçµ„ç¹”è¨­å®š
â”‚   â””â”€â”€ index.tsx
â”‚
â”œâ”€â”€ OrganizationRegister/       # ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²
â”‚   â””â”€â”€ index.tsx
â”‚
â”œâ”€â”€ AcceptInvitation/           # æ‹›å¾…å—è«¾
â”‚   â””â”€â”€ index.tsx
â”‚
â”œâ”€â”€ ExternalReports/            # å¤–éƒ¨å…¬æ¼”å ±å‘Š
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”‚
â”œâ”€â”€ LicenseReportManagement/    # ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å ±å‘Šç®¡ç†
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”‚
â””â”€â”€ ... (ãã®ä»–)
```

### ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ¨™æº–æ§‹é€ 

```
PageName/
â”œâ”€â”€ index.tsx           # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼‰
â”œâ”€â”€ types.ts            # å‹å®šç¾©ï¼ˆProps, å†…éƒ¨å‹ï¼‰
â”œâ”€â”€ components/         # UIéƒ¨å“ï¼ˆPresentationalï¼‰
â”‚   â”œâ”€â”€ ComponentA.tsx
â”‚   â””â”€â”€ ComponentB.tsx
â”œâ”€â”€ hooks/              # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆContainer Logicï¼‰
â”‚   â”œâ”€â”€ usePageData.ts
â”‚   â””â”€â”€ usePageActions.ts
â””â”€â”€ utils/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
    â””â”€â”€ formatters.ts
```

---

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹é€ 

### ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

`AdminDashboard.tsx` ã® `parseHash()` é–¢æ•°ãŒURLãƒãƒƒã‚·ãƒ¥ã‚’è§£æã—ã€é©åˆ‡ãªãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€‚

```typescript
parseHash(hash: string): {
  page: string,
  scenarioId: string | null,
  organizationSlug: string | null
}
```

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³

```
â–  äºˆç´„ã‚µã‚¤ãƒˆï¼ˆæ–°å½¢å¼ï¼‰
#booking/{slug}                     â†’ PublicBookingTop
#booking/{slug}/calendar            â†’ PublicBookingTop (ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ–)
#booking/{slug}/list                â†’ PublicBookingTop (ãƒªã‚¹ãƒˆã‚¿ãƒ–)
#booking/{slug}/scenario/{id}       â†’ ScenarioDetailPage

â–  äºˆç´„ã‚µã‚¤ãƒˆï¼ˆæ—§å½¢å¼ãƒ»å¾Œæ–¹äº’æ›ï¼‰
#customer-booking                   â†’ PublicBookingTop (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆçµ„ç¹”)
#customer-booking/scenario/{id}     â†’ ScenarioDetailPage

â–  ç®¡ç†ãƒ„ãƒ¼ãƒ«
#dashboard                          â†’ DashboardHome
#schedule                           â†’ ScheduleManager
#stores                             â†’ StoreManagement
#staff                              â†’ StaffManagement
#scenarios                          â†’ ScenarioManagement
#scenarios/edit?id={id}             â†’ ScenarioEdit
#reservations                       â†’ ReservationManagement
#private-booking-management         â†’ PrivateBookingManagement
#customer-management                â†’ CustomerManagement
#shift-submission                   â†’ ShiftSubmission
#gm-availability                    â†’ GMAvailabilityCheck
#sales                              â†’ SalesManagement
#user-management                    â†’ UserManagement
#settings                           â†’ Settings
#manual                             â†’ ManualPage

â–  ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ
#organizations                      â†’ OrganizationManagement
#organization-settings              â†’ OrganizationSettings
#register                           â†’ OrganizationRegister
#accept-invitation?token=xxx        â†’ AcceptInvitation
#external-reports                   â†’ ExternalReports
#license-reports                    â†’ LicenseReportManagement

â–  ãƒã‚¤ãƒšãƒ¼ã‚¸
#mypage                             â†’ MyPage
#mypage/reservations                â†’ ReservationsPage
#mypage/played                      â†’ PlayedScenariosPage
#mypage/liked                       â†’ LikedScenariosPage
#mypage/profile                     â†’ ProfilePage

â–  ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹ãƒ»èªè¨¼
#about                              â†’ LandingPageï¼ˆMMQç´¹ä»‹ï¼‰
#login                              â†’ LoginForm
#register                           â†’ OrganizationRegister
#reset-password                     â†’ ResetPassword
#set-password                       â†’ SetPassword
```

---

## ãƒšãƒ¼ã‚¸ä¸€è¦§

### ğŸŒ äºˆç´„ã‚µã‚¤ãƒˆï¼ˆé¡§å®¢å‘ã‘ãƒ»ä¸€èˆ¬å…¬é–‹ï¼‰

| ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ç”¨é€” | ã‚¢ã‚¯ã‚»ã‚¹ | çµ„ç¹”ãƒ•ã‚£ãƒ«ã‚¿ |
|---------|------|------|---------|-------------|
| **PublicBookingTop** | `#booking/{slug}` | äºˆç´„ã‚µã‚¤ãƒˆãƒˆãƒƒãƒ— | å…¨å“¡ | âœ… |
| **ScenarioDetailPage** | `#booking/{slug}/scenario/{id}` | ã‚·ãƒŠãƒªã‚ªè©³ç´°ãƒ»äºˆç´„ | å…¨å“¡ | âœ… |
| **BookingConfirmation** | (ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ) | äºˆç´„ç¢ºèªãƒ»ç¢ºå®š | ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆ | âœ… |
| **PrivateBookingRequest** | (ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ) | è²¸åˆ‡ç”³è¾¼ | ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆ | âœ… |
| **ScenarioCatalog** | `#catalog` | å…¨ã‚·ãƒŠãƒªã‚ªã‚«ã‚¿ãƒ­ã‚° | å…¨å“¡ | âœ… |

#### PublicBookingTop è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PublicBookingTop                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Props:                                                          â”‚
â”‚  - organizationSlug?: string  // URL ã‹ã‚‰å–å¾—                    â”‚
â”‚  - onScenarioSelect?: (id) => void                               â”‚
â”‚                                                                  â”‚
â”‚  ãƒ‡ãƒ¼ã‚¿å–å¾— (useBookingData):                                    â”‚
â”‚  1. organizationSlug â†’ organization_id ã‚’å–å¾—                    â”‚
â”‚  2. scenarios: organization_id ã§ãƒ•ã‚£ãƒ«ã‚¿ OR is_shared=true      â”‚
â”‚  3. stores: organization_id ã§ãƒ•ã‚£ãƒ«ã‚¿                           â”‚
â”‚  4. schedule_events: organization_id ã§ãƒ•ã‚£ãƒ«ã‚¿                  â”‚
â”‚                                                                  â”‚
â”‚  è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰:                                                     â”‚
â”‚  - ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—: ã‚·ãƒŠãƒªã‚ªã‚«ãƒ¼ãƒ‰ä¸€è¦§                              â”‚
â”‚  - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼: æ—¥ä»˜Ã—åº—èˆ—ãƒãƒˆãƒªãƒƒã‚¯ã‚¹                             â”‚
â”‚  - ãƒªã‚¹ãƒˆ: æ—¥ä»˜é †ã®å…¬æ¼”ä¸€è¦§                                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ“Š ç®¡ç†ãƒ„ãƒ¼ãƒ«ï¼ˆã‚¹ã‚¿ãƒƒãƒ•å‘ã‘ï¼‰

| ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ç”¨é€” | ã‚¢ã‚¯ã‚»ã‚¹ |
|---------|------|------|---------|
| **DashboardHome** | `#dashboard` | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | admin, staff |
| **ScheduleManager** | `#schedule` | å…¬æ¼”ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç† | admin |
| **ShiftSubmission** | `#shift-submission` | ã‚·ãƒ•ãƒˆæå‡º | admin, staff |
| **GMAvailabilityCheck** | `#gm-availability` | GMç¢ºèªå›ç­” | admin, staff |
| **StoreManagement** | `#stores` | åº—èˆ—ãƒã‚¹ã‚¿ | admin |
| **StaffManagement** | `#staff` | ã‚¹ã‚¿ãƒƒãƒ•ãƒã‚¹ã‚¿ | admin |
| **ScenarioManagement** | `#scenarios` | ã‚·ãƒŠãƒªã‚ªãƒã‚¹ã‚¿ | admin |
| **ScenarioEdit** | `#scenarios/edit?id={id}` | ã‚·ãƒŠãƒªã‚ªç·¨é›† | admin |
| **ReservationManagement** | `#reservations` | äºˆç´„ç®¡ç† | admin |
| **PrivateBookingManagement** | `#private-booking-management` | è²¸åˆ‡ç®¡ç† | admin |
| **CustomerManagement** | `#customer-management` | é¡§å®¢ç®¡ç† | admin |
| **SalesManagement** | `#sales` | å£²ä¸Šåˆ†æ | admin |
| **UserManagement** | `#user-management` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† | admin |
| **Settings** | `#settings` | è¨­å®š | admin |
| **StaffProfile** | `#staff-profile` | æ‹…å½“ä½œå“ | admin, staff |
| **ManualPage** | `#manual` | ãƒãƒ‹ãƒ¥ã‚¢ãƒ« | admin, staff |

---

### ğŸ¢ ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆç®¡ç†

| ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ç”¨é€” | ã‚¢ã‚¯ã‚»ã‚¹ |
|---------|------|------|---------|
| **OrganizationManagement** | `#organizations` | çµ„ç¹”ä¸€è¦§ãƒ»ä½œæˆãƒ»æ‹›å¾…ãƒ»ç·¨é›† | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†è€…ã®ã¿ |
| **OrganizationSettings** | `#organization-settings` | è‡ªçµ„ç¹”ã®è¨­å®šç·¨é›† | admin |
| **OrganizationRegister** | `#register` | ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹çµ„ç¹”ç™»éŒ² | æœªãƒ­ã‚°ã‚¤ãƒ³ |
| **AcceptInvitation** | `#accept-invitation?token=xxx` | æ‹›å¾…å—è«¾ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ | æœªãƒ­ã‚°ã‚¤ãƒ³ |
| **ExternalReports** | `#external-reports` | å…¬æ¼”å ±å‘Šæå‡º | admin, staff |
| **LicenseReportManagement** | `#license-reports` | å ±å‘Šæ‰¿èªãƒ»é›†è¨ˆ | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†è€…ã®ã¿ |

#### OrganizationManagement è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OrganizationManagement                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™:                                                   â”‚
â”‚  - is_license_manager = true ã®çµ„ç¹”ã®ã¿                          â”‚
â”‚  - ãã‚Œä»¥å¤–ã¯ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸                              â”‚
â”‚                                                                  â”‚
â”‚  æ©Ÿèƒ½:                                                           â”‚
â”‚  1. çµ„ç¹”ä¸€è¦§è¡¨ç¤º                                                 â”‚
â”‚  2. æ–°è¦çµ„ç¹”ä½œæˆ (OrganizationCreateDialog)                      â”‚
â”‚  3. çµ„ç¹”ç·¨é›† (OrganizationEditDialog)                            â”‚
â”‚  4. çµ„ç¹”ã¸ã®æ‹›å¾… (OrganizationInviteDialog)                      â”‚
â”‚                                                                  â”‚
â”‚  é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«:                                                   â”‚
â”‚  - organizations                                                 â”‚
â”‚  - staff (organization_id ã§ç´ä»˜ã‘)                              â”‚
â”‚  - organization_invitations                                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### OrganizationSettings è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OrganizationSettings                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ç›®çš„:                                                           â”‚
â”‚  - è‡ªçµ„ç¹”ã®åŸºæœ¬æƒ…å ±ã‚’ç·¨é›†                                        â”‚
â”‚  - æ‹›å¾…ç®¡ç†ï¼ˆä¿ç•™ä¸­ãƒ»å—è«¾æ¸ˆã¿ã®ä¸€è¦§ï¼‰                            â”‚
â”‚                                                                  â”‚
â”‚  ç·¨é›†å¯èƒ½é …ç›®:                                                   â”‚
â”‚  - çµ„ç¹”å                                                        â”‚
â”‚  - æ‹…å½“è€…å                                                      â”‚
â”‚  - é€£çµ¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹                                          â”‚
â”‚  - ãƒ¡ãƒ¢                                                          â”‚
â”‚                                                                  â”‚
â”‚  è¡¨ç¤ºé …ç›®ï¼ˆç·¨é›†ä¸å¯ï¼‰:                                           â”‚
â”‚  - è­˜åˆ¥å­ï¼ˆslugï¼‰                                                â”‚
â”‚  - ãƒ—ãƒ©ãƒ³                                                        â”‚
â”‚                                                                  â”‚
â”‚  é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«:                                                   â”‚
â”‚  - organizations                                                 â”‚
â”‚  - organization_invitations                                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### OrganizationRegister è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OrganizationRegister                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ç›®çš„:                                                           â”‚
â”‚  - æ–°è¦çµ„ç¹”ã®ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²                                  â”‚
â”‚  - æ‹›å¾…ãªã—ã§çµ„ç¹”ã‚’ä½œæˆå¯èƒ½                                      â”‚
â”‚                                                                  â”‚
â”‚  ç™»éŒ²ãƒ•ãƒ­ãƒ¼ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰:                                        â”‚
â”‚  1. çµ„ç¹”æƒ…å ±å…¥åŠ›ï¼ˆåå‰ã€è­˜åˆ¥å­ã€é€£çµ¡å…ˆï¼‰                         â”‚
â”‚  2. ç®¡ç†è€…æƒ…å ±å…¥åŠ›ï¼ˆåå‰ã€ãƒ¡ãƒ¼ãƒ«ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰                   â”‚
â”‚  3. ç¢ºèªãƒ»åˆ©ç”¨è¦ç´„åŒæ„ãƒ»ç™»éŒ²                                     â”‚
â”‚                                                                  â”‚
â”‚  ç™»éŒ²å®Œäº†å¾Œ:                                                     â”‚
â”‚  - organizations ã«æ–°è¦ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ                              â”‚
â”‚  - Supabase Auth ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ                                  â”‚
â”‚  - users ãƒ†ãƒ¼ãƒ–ãƒ«ã« admin ãƒ­ãƒ¼ãƒ«ã§ç™»éŒ²                           â”‚
â”‚  - staff ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç®¡ç†è€…ã¨ã—ã¦ç™»éŒ²                              â”‚
â”‚  - ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡                                                â”‚
â”‚                                                                  â”‚
â”‚  é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«:                                                   â”‚
â”‚  - organizations                                                 â”‚
â”‚  - users                                                         â”‚
â”‚  - staff                                                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AcceptInvitation è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AcceptInvitation                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ç›®çš„:                                                           â”‚
â”‚  - æ‹›å¾…ãƒªãƒ³ã‚¯ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ                      â”‚
â”‚  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦çµ„ç¹”ã«å‚åŠ                                 â”‚
â”‚                                                                  â”‚
â”‚  URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:                                                  â”‚
â”‚  - token: æ‹›å¾…ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆå¿…é ˆï¼‰                                   â”‚
â”‚                                                                  â”‚
â”‚  ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³:                                                 â”‚
â”‚  - ãƒˆãƒ¼ã‚¯ãƒ³å­˜åœ¨ãƒã‚§ãƒƒã‚¯                                          â”‚
â”‚  - æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯ï¼ˆ7æ—¥é–“ï¼‰                                     â”‚
â”‚  - å—è«¾æ¸ˆã¿ãƒã‚§ãƒƒã‚¯                                              â”‚
â”‚                                                                  â”‚
â”‚  å—è«¾å®Œäº†å¾Œ:                                                     â”‚
â”‚  - Supabase Auth ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ                                  â”‚
â”‚  - users ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç™»éŒ²                                          â”‚
â”‚  - staff ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç™»éŒ²                                          â”‚
â”‚  - organization_invitations ã‚’æ›´æ–°ï¼ˆaccepted_atï¼‰                â”‚
â”‚                                                                  â”‚
â”‚  é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«:                                                   â”‚
â”‚  - organization_invitations                                      â”‚
â”‚  - users                                                         â”‚
â”‚  - staff                                                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ExternalReports è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ExternalReports                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ç›®çš„:                                                           â”‚
â”‚  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã‚·ãƒŠãƒªã‚ªã®å…¬æ¼”å›æ•°ã‚’å ±å‘Š                        â”‚
â”‚  - è‡ªç¤¾å…¬æ¼”ã‚’é›†è¨ˆã—ã¦ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ–™è¨ˆç®—ã«ä½¿ç”¨                      â”‚
â”‚                                                                  â”‚
â”‚  å ±å‘Šå†…å®¹:                                                       â”‚
â”‚  - ã‚·ãƒŠãƒªã‚ªé¸æŠï¼ˆis_shared=true ã®ã¿ï¼‰                           â”‚
â”‚  - å…¬æ¼”æ—¥                                                        â”‚
â”‚  - å…¬æ¼”å›æ•°                                                      â”‚
â”‚  - å‚åŠ è€…æ•°ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰                                        â”‚
â”‚  - ä¼šå ´åï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰                                          â”‚
â”‚  - å‚™è€ƒ                                                          â”‚
â”‚                                                                  â”‚
â”‚  ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:                                                   â”‚
â”‚  å ±å‘Šæå‡º â†’ pending â†’ æ‰¿èª/å´ä¸‹ â†’ approved/rejected              â”‚
â”‚                                                                  â”‚
â”‚  é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«:                                                   â”‚
â”‚  - external_performance_reports                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### LicenseReportManagement è©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LicenseReportManagement                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™:                                                   â”‚
â”‚  - is_license_manager = true ã®çµ„ç¹”ã®ã¿                          â”‚
â”‚                                                                  â”‚
â”‚  æ©Ÿèƒ½:                                                           â”‚
â”‚  1. æå‡ºã•ã‚ŒãŸå ±å‘Šã®ä¸€è¦§                                         â”‚
â”‚  2. å ±å‘Šã®æ‰¿èª/å´ä¸‹                                              â”‚
â”‚  3. ã‚·ãƒŠãƒªã‚ªåˆ¥ãƒ»æœŸé–“åˆ¥ã®é›†è¨ˆ                                     â”‚
â”‚  4. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ–™ã®ç®—å‡ºã‚µãƒãƒ¼ãƒˆ                                   â”‚
â”‚                                                                  â”‚
â”‚  é–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ«:                                                   â”‚
â”‚  - external_performance_reports                                  â”‚
â”‚  - scenarios (is_shared=true)                                    â”‚
â”‚  - organizations                                                 â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ‘¤ ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼ˆé¡§å®¢å‘ã‘ï¼‰

| ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ç”¨é€” | ã‚¢ã‚¯ã‚»ã‚¹ |
|---------|------|------|---------|
| **MyPage** | `#mypage` | ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ— | customer |
| **ReservationsPage** | `#mypage/reservations` | äºˆç´„å±¥æ­´ | customer |
| **PlayedScenariosPage** | `#mypage/played` | ãƒ—ãƒ¬ã‚¤æ¸ˆã¿ã‚·ãƒŠãƒªã‚ª | customer |
| **LikedScenariosPage** | `#mypage/liked` | ãŠæ°—ã«å…¥ã‚Š | customer |
| **ProfilePage** | `#mypage/profile` | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† | customer |

---

### ğŸ” èªè¨¼

| ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ç”¨é€” | ã‚¢ã‚¯ã‚»ã‚¹ |
|---------|------|------|---------|
| **LoginForm** | `#login` | ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ— | å…¨å“¡ |
| **ResetPassword** | `#reset-password` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ | å…¨å“¡ |
| **SetPassword** | `#set-password` | åˆå›ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š | æ‹›å¾…ãƒ¦ãƒ¼ã‚¶ãƒ¼ |

---

### ğŸ› ï¸ é–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨

| ãƒšãƒ¼ã‚¸å | ãƒ‘ã‚¹ | ç”¨é€” | ã‚¢ã‚¯ã‚»ã‚¹ |
|---------|------|------|---------|
| **AddDemoParticipants** | `#add-demo-participants` | ãƒ‡ãƒ¢å‚åŠ è€…è¿½åŠ  | admin |
| **ScenarioMatcher** | `#scenario-matcher` | ã‚·ãƒŠãƒªã‚ªãƒãƒƒãƒãƒ³ã‚° | admin |

---

## æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | æ‹…å½“ |
|------|---------|------|
| 2024-12-17 | æ–°è¦çµ„ç¹”ç™»éŒ²ãƒ•ãƒ­ãƒ¼è¿½åŠ ï¼ˆOrganizationSettings, OrganizationRegister, AcceptInvitation, OrganizationEditDialogï¼‰ | AI |
| 2024-12-17 | ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ§‹é€ ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãƒ»ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è©³ç´°ã‚’è¿½åŠ  | AI |
| 2024-12-17 | åˆç‰ˆä½œæˆã€‚ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œãƒšãƒ¼ã‚¸ã‚’è¿½åŠ  | AI |

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `UI_Design.md` - UIè¦ç´ ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°
- `CRITICAL_FEATURES.md` - é‡è¦æ©Ÿèƒ½ä¿è­·
- `rules/rurle.mdc` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒ«
- `database/migrations/` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
