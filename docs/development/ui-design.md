# UI設計ドキュメント

**最終更新**: 2025-12-30

全ページのUI要素とコンポーネント使用状況。

---

## ページ別UI要素一覧

### 1. ログインページ (`LoginForm.tsx`)

#### UI要素
- **フォーム切り替えボタン**
  - 種類: Button
  - 用途: ログイン/サインアップの切り替え
  - 状態: `isSignUp` で制御

- **認証フォーム**
  - 種類: Input (email, password)
  - 用途: ユーザー認証情報入力

- **テストアカウント作成ボタン**
  - 種類: Button (3種類)
  - 用途: 管理者/スタッフ/顧客のテストアカウント作成
  - ラベル: "管理者アカウント作成", "スタッフアカウント作成", "顧客アカウント作成"

---

### 1-1. パスワードリセットページ (`ResetPassword.tsx`)

#### レイアウト
- **背景**: `bg-background` (統一された背景色)
- **中央配置**: `min-h-screen flex items-center justify-center`
- **レスポンシブ**: `px-4 py-8 sm:px-6 sm:py-12`

#### UI要素
- **カードコンテナ**
  - 種類: Card
  - 最大幅: `max-w-md`
  - レスポンシブパディング: `px-4 sm:px-6`, `pt-6 sm:pt-8`, `pb-4 sm:pb-6`

- **フォーム要素**
  - 新しいパスワード入力: Input (type="password", minLength=6)
  - パスワード確認入力: Input (type="password", minLength=6)
  - 送信ボタン: Button (disabled状態でローディング表示)
  - 戻るボタン: Button (variant="ghost")

- **状態表示**
  - エラー表示: `border-2 border-destructive` + AlertCircleアイコン
  - 成功表示: CheckCircle2アイコン + カウントダウン表示
  - ローディング状態: ボタンテキスト変更 ("準備中...", "パスワードを変更中...")

- **成功後の画面**
  - カウントダウン表示: 5秒後に自動リダイレクト
  - 即座リダイレクトボタン: "今すぐログイン画面へ"

---

### 1-2. パスワード設定ページ (`SetPassword.tsx`)

#### レイアウト
- **背景**: `bg-background` (統一された背景色)
- **中央配置**: `min-h-screen flex items-center justify-center`
- **レスポンシブ**: `px-4 py-8 sm:px-6 sm:py-12`

#### UI要素
- **カードコンテナ**
  - 種類: Card
  - 最大幅: `max-w-md`
  - レスポンシブパディング: `px-4 sm:px-6`, `pt-6 sm:pt-8`, `pb-4 sm:pb-6`

- **アイコン表示**
  - Lockアイコン: パスワード設定画面
  - CheckCircleアイコン: 成功画面

- **フォーム要素**
  - 新しいパスワード入力: Input (type="password", minLength=6)
  - パスワード確認入力: Input (type="password", minLength=6)
  - 送信ボタン: Button (ローディング時にアニメーション表示)
  - 補助テキスト: "パスワードは6文字以上で設定してください"

- **状態表示**
  - エラー表示: `bg-red-50 border border-red-200` + AlertCircleアイコン
  - 成功表示: CheckCircleアイコン + 3秒後に自動リダイレクト
  - ローディング状態: アニメーションアイコン + "設定中..."テキスト

- **成功後の画面**
  - 自動リダイレクト: 3秒後にログイン画面へ
  - 即座リダイレクトボタン: "今すぐログイン"

---

### 2. 管理者ダッシュボード (`AdminDashboard.tsx`)

#### 共通レイアウト
- **Header** (`Header.tsx`)
  - サイトタイトル: "MMQ"
  - ユーザー情報表示
  - ログアウトボタン

- **NavigationBar** (`NavigationBar.tsx`)
  - ナビゲーションタブ: "店舗", "シナリオ", "スタッフ", "スケジュール"
  - アクティブ状態表示: 3px下線

#### ダッシュボード固有要素
- **統計カード**
  - 種類: Card
  - 内容: 店舗数、シナリオ数、スタッフ数、今月の公演数
  - アイコン: Store, FileText, Users, Calendar

- **アクティビティログ**
  - 種類: Card + リスト
  - 用途: 最近の活動履歴表示

---

### 3. 店舗管理ページ (`StoreManagement.tsx`)

#### 共通レイアウト
- **Header** + **NavigationBar** (共通)

#### 店舗管理固有要素
- **店舗カード**
  - 種類: Card
  - 要素:
    - 店舗識別色ドット (小さな色付き円)
    - 店舗名 + 略称
    - 住所、電話番号、メール
    - 営業開始日、管理者名
    - ステータスバッジ
    - 編集/削除ボタン

- **編集モーダル** (`StoreEditModal.tsx`)
  - 種類: Dialog
  - フォーム要素: Input, Select, Textarea
  - 保存/キャンセルボタン

---

### 4. シナリオ管理ページ (`ScenarioManagement.tsx`)

#### 共通レイアウト
- **Header** + **NavigationBar** (共通)

#### シナリオ管理固有要素
- **検索・フィルター**
  - 種類: Input (検索), Select (カテゴリフィルター)

- **シナリオカード**
  - 種類: Card
  - 要素:
    - シナリオタイトル
    - カテゴリバッジ
    - 説明文 (`line-clamp` で省略)
    - プレイ時間、参加人数
    - 削除ボタン

---

### 5. スタッフ管理ページ (`StaffManagement.tsx`)

#### 共通レイアウト
- **Header** + **NavigationBar** (共通)

#### スタッフ管理固有要素
- **スタッフカード**
  - 種類: Card
  - 要素:
    - スタッフ名
    - 役職バッジ
    - メールアドレス
    - 電話番号
    - 削除ボタン

---

### 6. スケジュール管理ページ (`ScheduleManager.tsx`)

#### 共通レイアウト
- **Header** + **NavigationBar** (共通)

#### スケジュール管理固有要素

##### ヘッダー部分
- **月選択コントロール**
  - 要素名: `changeMonth` 関数 + `currentDate` 状態
  - 左矢印: `ChevronLeft` ボタン
  - 右矢印: `ChevronRight` ボタン
  - 月選択: `Select` コンポーネント

##### カテゴリタブ
- **カテゴリフィルター**
  - 要素名: `selectedCategory` 状態
  - コンポーネント: `Tabs` > `TabsList` > `TabsTrigger`
  - 機能: 選択カテゴリの公演のみ表示（`getEventsForSlot`でフィルタリング）
  - タブ一覧:
    - "すべて" (`value="all"`) - 全カテゴリ表示
    - "オープン公演" (`value="open"`) - オープン公演のみ
    - "貸切公演" (`value="private"`) - 貸切公演のみ
    - "GMテスト" (`value="gmtest"`) - GMテストのみ
    - "テストプレイ" (`value="testplay"`) - テストプレイのみ
    - "出張公演" (`value="trip"`) - 出張公演のみ

##### メインテーブル
- **スケジュールテーブル**
  - コンポーネント: `Table` > `TableHeader` + `TableBody`
  - ヘッダー列:
    - 日付列: "日付" (`w-20` - 80px)
    - 曜日列: "曜日" (`w-16` - 64px)
    - 会場列: "会場" (`w-20` - 80px)
    - 午前列: "午前 (~12:00)" (`w-60` - 240px)
    - 午後列: "午後 (12:00-17:00)" (`w-60` - 240px)
    - 夜間列: "夜間 (17:00~)" (`w-60` - 240px)
    - メモ列: "メモ" (`w-48` - 192px)
  - 特殊スタイル:
    - 土曜日: `text-blue-600`
    - 日曜日: `text-red-600`
    - 祝日行: `bg-red-50 border-red-200`

##### タイムスロットセル (`TimeSlotCell.tsx`)
- **公演がある場合**: `PerformanceCard` コンポーネント
- **空きスロットの場合**: `EmptySlot` コンポーネント

##### メモセル (`MemoCell.tsx`)
- **メモセル**
  - 要素名: `MemoCell` コンポーネント
  - 機能: インライン編集可能なテキストエリア（自動保存）
  - データ: `memos[${date}-${venue}]` 形式で状態管理 + Supabase連携
  - 表示モード: `#F6F9FB`背景 + `rounded-md` 角丸（プレースホルダーなし）
  - 編集モード: `Textarea`のみ（ボタンなし、フォーカス時も同じデザイン、サイズ固定）
  - 自動保存: 1秒デバウンス + フォーカスアウト時即座保存
  - サイズ: `w-48` (192px)

---

## スケジュール管理画面の詳細要素マップ

### 公演カード内の要素 (`PerformanceCard.tsx`)

#### 🕐 時間表示エリア
- **要素名**: `start_time-end_time` span
- **場所**: カード上部左
- **内容**: "14:00-18:00" 形式
- **スタイル**: `font-mono text-xs`
- **色制御**: `badgeTextColor` (カテゴリ色)

#### 🏷️ バッジエリア (カード上部右)
1. **中止バッジ**
   - **要素名**: 中止Badge
   - **表示条件**: `event.is_cancelled === true`
   - **内容**: "中止"
   - **スタイル**: `variant="destructive" size="sm"`
   - **色**: `badgeTextColor` 適用

2. **予約者数バッジ**
   - **要素名**: 予約者数Badge
   - **表示条件**: `reservationCount > 0 && !event.is_cancelled`
   - **内容**: `<Users アイコン> + 数値`
   - **例**: "👥 6"
   - **色**: カテゴリ色 (`categoryConfig[category].badgeColor`)

3. **カテゴリバッジ**
   - **要素名**: カテゴリBadge
   - **内容**: カテゴリ名 ("貸切公演", "オープン公演" など)
   - **色**: カテゴリ色 (`categoryConfig[category].badgeColor`)

#### 📝 テキスト情報エリア
1. **シナリオタイトル**
   - **要素名**: シナリオ名div
   - **場所**: バッジエリア下
   - **内容**: `event.scenario` または "未定"
   - **スタイル**: `font-medium line-clamp-2`
   - **色**: `badgeTextColor`

2. **GM情報**
   - **要素名**: GM情報div
   - **内容**: "GM: [GM名]" または "GM: 未定"
   - **データ**: `event.gms[]` 配列
   - **色**: `badgeTextColor`

3. **ノート情報**
   - **要素名**: ノートdiv
   - **表示条件**: `event.notes` が存在する場合
   - **内容**: `event.notes`
   - **スタイル**: `text-xs truncate`
   - **色**: `badgeTextColor`

#### ⚠️ 状態表示要素
1. **未完成警告アイコン**
   - **要素名**: AlertTriangle アイコン
   - **場所**: カード右上角
   - **表示条件**: `!event.scenario || event.gms.length === 0`
   - **色**: `text-yellow-500`

2. **中止状態表示**
   - **要素名**: カード全体のopacity
   - **表示条件**: `event.is_cancelled === true`
   - **効果**: `opacity-75` + 取り消し線

#### 🔧 アクションボタン (カード右下角)
1. **中止ボタン**
   - **要素名**: 中止Button
   - **表示条件**: `!event.is_cancelled`
   - **アイコン**: `Ban`
   - **機能**: `onCancel(event)` 実行

2. **復活ボタン**
   - **要素名**: 復活Button
   - **表示条件**: `event.is_cancelled`
   - **アイコン**: `Plus`
   - **機能**: `onUncancel(event)` 実行

### 空きスロット要素 (`EmptySlot.tsx`)

#### ➕ 追加ボタン
- **要素名**: 公演追加Button
- **内容**: `<Plus アイコン> + "公演追加"`
- **スタイル**: `variant="ghost"` + 破線ボーダー
- **機能**: `onAddPerformance(date, venue, timeSlot)` 実行

---

## 要素の特定方法

### 編集したい要素を見つける手順
1. **UI_Design.md** でページを特定
2. **該当セクション** で要素名を確認
3. **ファイル名** でコンポーネントを特定
4. **要素名** でコード内の該当箇所を検索

### 例: "予約者数の表示を変更したい"
1. スケジュール管理ページ → 公演カード内の要素
2. **予約者数バッジ** を確認
3. `PerformanceCard.tsx` ファイルを開く
4. "予約者数Badge" または `reservationCount` で検索

---

## コンポーネント詳細

### PerformanceCard.tsx
公演情報を表示するカード型コンポーネント

#### バッジ要素
1. **中止バッジ**
   - 種類: Badge (variant="destructive", size="sm")
   - 表示条件: `event.is_cancelled === true`
   - ラベル: "中止"
   - 色: カテゴリ色のテキスト色を適用

2. **予約者数バッジ**
   - 種類: Badge (size="sm")
   - 表示条件: `reservationCount > 0 && !event.is_cancelled`
   - アイコン: Users
   - 内容: 予約者数 (例: "6")
   - 色: カテゴリ色 (背景色 + テキスト色)

3. **カテゴリバッジ**
   - 種類: Badge (size="sm")
   - 内容: カテゴリラベル (例: "貸切公演")
   - 色: カテゴリ色 (背景色 + テキスト色)

#### テキスト要素
- **時間表示**: `start_time-end_time` (例: "14:00-18:00")
- **シナリオタイトル**: 公演のシナリオ名
- **GM情報**: "GM: [GM名]"
- **ノート**: 追加情報 (任意)

#### アクション要素
- **中止ボタン**: Ban アイコン (公演中止用)
- **復活ボタン**: Plus アイコン (中止解除用)

#### 状態表示
- **未完成警告**: AlertTriangle アイコン (シナリオ/GM未定時)
- **中止状態**: 全体を `opacity-75` + 取り消し線

### EmptySlot.tsx
空のタイムスロット表示用コンポーネント

#### 要素
- **追加ボタン**
  - 種類: Button (variant="ghost")
  - スタイル: 破線ボーダー
  - アイコン: Plus
  - ラベル: "公演追加"

---

## 色システム

### カテゴリ色設定 (`categoryConfig`)
```typescript
const categoryConfig = {
  open: { 
    label: 'オープン公演', 
    badgeColor: 'bg-blue-100 text-blue-800', 
    cardColor: 'bg-blue-50 border-blue-200' 
  },
  private: { 
    label: '貸切公演', 
    badgeColor: 'bg-purple-100 text-purple-800', 
    cardColor: 'bg-purple-50 border-purple-200' 
  },
  gmtest: { 
    label: 'GMテスト', 
    badgeColor: 'bg-orange-100 text-orange-800', 
    cardColor: 'bg-orange-50 border-orange-200' 
  },
  testplay: { 
    label: 'テストプレイ', 
    badgeColor: 'bg-yellow-100 text-yellow-800', 
    cardColor: 'bg-yellow-50 border-yellow-200' 
  },
  trip: { 
    label: '出張公演', 
    badgeColor: 'bg-green-100 text-green-800', 
    cardColor: 'bg-green-50 border-green-200' 
  }
}
```

### 店舗識別色
- 高田馬場店: blue
- 別館①: green  
- 別館②: purple
- 大久保店: orange
- 大塚店: red
- 埼玉大宮店: amber

---

---

## 🚨 プロジェクトルール: UI_Design.md更新義務

### **必須更新タイミング**
以下の変更を行う際は、**必ずUI_Design.mdも同時に更新**してください：

1. **新しいUI要素の追加**
   - 新しいボタン、バッジ、アイコン、フォーム要素など
   - 要素名、場所、機能、スタイルを詳細記載

2. **既存要素の変更**
   - 表示条件の変更
   - スタイル・色の変更
   - 機能・動作の変更

3. **新しいページ・コンポーネントの追加**
   - 新しいページセクションを追加
   - 全UI要素を詳細マップ化

4. **要素の削除**
   - 該当要素をドキュメントからも削除
   - 関連する説明も更新

### **更新手順**
1. コードを変更
2. UI_Design.mdの該当セクションを更新
3. 変更履歴に記録
4. 必要に応じて「要素の特定方法」も更新

### **更新忘れ防止**
- コミット前にUI_Design.mdの更新を確認
- プルリクエスト時にUI変更とドキュメント更新をセットで確認

---

## 📝 デザインガイドライン: 説明文の活用

### **説明文表示パターン**
フォーム入力項目において、ユーザビリティ向上のため説明文を積極的に活用する。

#### **基本レイアウト**
```
[入力項目] [入力フィールド] 説明文                    [アクション]
```

#### **実装例**
- **参加費設定**: `[通常 ▼] [金額入力] 基本の参加費 [×]`
- **時間帯別料金**: `[土日祝▼] [金額入力] 土日祝日の参加費 [×]`

#### **スタイリング**
- **説明文**: `text-sm text-gray-600 flex-1`
- **配置**: 入力フィールドの右側、`flex-1`で残りスペースを使用
- **縦揃え**: 親要素に`items-center`を追加

#### **説明文生成**
- 動的な説明文は専用関数で管理（例: `getTimeSlotDescription()`）
- 選択値に応じてリアルタイムで説明文を更新
- 一貫性のある表現を使用

#### **適用推奨箇所**
- 複数選択肢がある設定項目
- 時間帯・条件別の料金設定
- 役割・権限の選択項目
- 複雑な設定オプション

---

## 🚨 プロジェクトルール: アドバイス時の実装禁止

### **アドバイス要求時の対応**
ユーザーが以下のような表現でアドバイスを求めた場合は、**実装を行わずアドバイスのみ提供**する：

- "アドバイスくれない？"
- "設計のアドバイス所望"
- "どう思う？"
- "おすすめは？"
- "どうしたらいい？"

### **実装を行う条件**
明示的な実装指示がある場合のみ実装を行う：

- "実装して"
- "作って"
- "追加して"
- "変更して"

### **違反防止**
- アドバイス要求 → 選択肢・比較・推奨案の提示のみ
- 実装指示 → アドバイス + 実装の両方

---

### 7. 売上管理ページ (`SalesManagement.tsx`)

#### 共通レイアウト
- **Header** + **NavigationBar** (共通)

#### 売上管理固有要素
- **サイドバー** (`SalesSidebar.tsx`)
  - 背景色: `bg-slate-50`
  - ボーダー: `border-r border-slate-200`
  - タイトル: `text-slate-800`
  - メニュー項目:
    - アクティブ状態: `bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200`
    - 非アクティブ状態: `text-slate-600 hover:text-slate-800 hover:bg-slate-100`
    - 説明文: `text-slate-500`

- **売上概要カード**
  - 種類: Card
  - 内容: 期間別売上、店舗別売上、シナリオ別売上

- **売上推移グラフ**
  - 種類: Chart.js (Line Chart)
  - データ: 月次/日次売上と公演数
  - 動的Y軸スケール: 店舗数と期間に応じて調整

- **ランキング表示**
  - 店舗別売上ランキング
  - シナリオ別売上ランキング
  - レイアウト: 2カラム (lg以上)

- **シナリオ分析** (`scenario-performance`)
  - シナリオの詳細分析と実績
  - 人気シナリオランキング
  - 作者別公演数分析
  - シナリオ別収益分析
  - 包括的なシナリオ分析機能

- **給与計算** (`salary-calculation`)
  - スタッフ別のGM報酬計算と管理（現在はGM報酬のみ、シフト給与は今後実装予定）
  - **フィルター機能**:
    - MonthSwitcher: 対象月選択
    - 店舗フィルター
    - スタッフ名検索
  - **データ表示**:
    - 展開可能なテーブル形式
    - スタッフ名、役割、GM回数、GM報酬、合計
    - 展開時の詳細情報:
      - GM配置詳細（日付、シナリオ、店舗、役割、報酬）
  - **機能**:
    - CSVエクスポート（スタッフ別給与データ）
    - 月次合計支給額表示
  - **参考実装**: AuthorReport（作者別レポート）と同様の構造
  - **注意**: 現在はGM報酬のみ集計。シフト給与計算は、staffテーブルへのhourly_rateカラム追加とshiftsテーブル作成後に実装予定

---

## 更新履歴
- 2025-09-24: 初版作成
- 2025-09-24: スケジュール管理画面の詳細要素マップを追加
- 2025-09-24: 予約者数バッジの色を満席率ベースからカテゴリ色ベースに変更
- 2025-09-24: プロジェクトルール「UI_Design.md更新義務」を確立
- 2025-09-24: カテゴリタブでの表示切り替え機能を実装（`getEventsForSlot`にフィルタリング追加）
- 2025-09-24: TimeSlotCellの幅を240px（`w-60`）に統一
- 2025-09-24: 全ページを1440px画面最適化（`max-w-7xl px-8` - コンテンツ幅1280px）
- 2025-09-24: スケジュール管理画面にメモエリア追加（`MemoCell`コンポーネント、インライン編集機能）
- 2025-09-24: メモエリアを自動保存仕様に変更（ボタンなし、デバウンス付き自動保存、Supabase連携）
- 2025-09-24: メモエリアのデザイン簡素化（薄い灰色背景、波線ボーダー削除、フォーカス効果削除）
- 2025-09-24: メモエリアを`#F5F5F5`背景に変更、プレースホルダー削除、フォーカス時も同じデザイン
- 2025-09-24: Guidelines.md に入力エリア統一色ルール追加（`#F5F5F5`で統一）
- 2025-09-24: 入力エリア統一色を`#FAFBFD`に変更（Guidelines.md、MemoCell.tsx更新）
- 2025-09-24: 入力エリア統一色を`#F6F9FB`に変更、フォーカス時のサイズ拡大を防止（`max-height`追加）
- 2025-09-26: デザインガイドライン「説明文の活用」を追加（動的説明文、レイアウトパターン、スタイリング規則）
- 2025-09-28: 売上管理ページにサイドバーを追加、カラーパレットをプロジェクトガイドラインに統一（slate系背景、blue系アクセント）
- 2025-09-28: シナリオ別公演数機能をシナリオ分析に拡張、詳細分析機能とサマリー表示を追加
- 2025-11-22: シフト提出ページのテーブルデザイン変更（曜日・日付カラムを統合、375px幅対応、チェックボックスセンタリング）
- 2025-11-22: 設定ページを再構成（全体設定と店舗別設定を分離、サイドバーで切り替え、店舗選択は店舗別設定のみ表示）
- 2025-11-22: 全体設定ページ追加（シフト提出期間設定、システム設定、全体通知設定を含む）
- 2025-11-22: シフト提出ページに提出期間チェック機能追加（全体設定に基づく期間制限、警告表示）
- 2025-11-23: 売上管理ページに給与計算タブを追加（AuthorReportを参考に実装、GM報酬の集計、CSVエクスポート機能。シフト給与は今後実装予定）
- 2025-11-22: UnifiedSidebarをモバイル対応（デスクトップ: 左サイドバー、モバイル: ハンバーガーメニュー、左からスライドイン、オーバーレイ背景）
- 2025-11-23: UnifiedSidebarから説明文（description）表示を削除（メニュー項目はラベルとアイコンのみ表示）
- 2025-11-23: UnifiedSidebarのメニュー項目サイズを縮小（text-sm→text-xs、py-3→py-2でよりコンパクトに）
- 2025-11-23: 全ページのフィルター要素のスペーシングを統一（gap-3で固定、レスポンシブなgap値を削除して統一感を向上）
- 2025-11-23: 貸切確認ページのUI整備（サイドバーdescription削除、スペーシング統一space-y-4、セクション見出しtext-sm font-medium、パディングp-3、モーダル余白統一、レスポンシブクラス簡素化）
- 2025-11-23: 貸切確認ページのカラーパレット統一（blue/orange/yellow系をpurpleに統一、purple=メイン/情報、green=確定、red=エラー/却下、gray=中立の4色構成）
- 2025-11-23: 貸切確認ページのダイアログを標準Dialogコンポーネントに統一（詳細モーダルと却下ダイアログを@/components/ui/dialogに置き換え、カスタム実装を削除）
- 2025-11-23: Dialogコンポーネントのモバイル最適化（375px幅対応：padding p-3、gap-3、DialogTitle text-base、ActionButtons横並び維持、セクション間pt-3、max-h-[90vh]でスクロール可能に）
- 2025-11-23: TabsListとMonthSwitcherのレイアウト修正（TabsListは個別ページでw-full sm:w-auto指定、TabsTriggerにflex-1 sm:flex-initial追加、MonthSwitcherをセンタリング表示：w-full sm:w-auto flex justify-center sm:justify-end）
- 2025-11-23: 貸切確認ページのBookingRequestCard改善（お客様アイコン（Users）削除、経過時間の色を3日以上経過で赤色表示：text-red-600 font-medium）
- 2025-11-23: GM確認ページを貸切確認ページと同様に再レイアウト（サイドバーdescription削除、スペーシングspace-y-4統一、RequestCardのUsersアイコン削除、カラーパレット統一：blue/orange/yellow→purple、経過時間3日以上で赤、ボタンtext-sm size-sm、pt-6→pt-4、space-y-4→space-y-3）
- 2025-11-23: GM確認ページのカラーパレット最終統一（CandidateSelectorのorange系削除、確定済みgray→green、GM確認済みorange→purple。4色構成：purple=メイン、green=確定、red=エラー/満席、gray=回答済み）
- 2025-11-23: GM確認ページのCandidateSelector簡素化（日付カード背景色削除、満席バッジ削除、候補バッジをgray統一、選択時のみborder-purple-500とbg-purple-50/30、満席はbg-red-50のみ）
- 2025-11-23: CandidateSelectorの状態を明確化・整理（満席=赤背景+opacity-60、確定済み選択=緑枠+緑背景強調、確定済み未選択=灰色+opacity-60、GM確認済み選択=紫枠+薄紫背景、GM確認済み未選択=灰色+opacity-60、回答済み選択=紫枠+薄紫背景、回答済み未選択=灰色+opacity-60、編集可能選択中=紫枠+薄紫背景、編集可能未選択=灰枠+hover紫）
- 2025-11-23: GM確認ページで確定済み・GM確認済み・回答済み状態では全候補を表示しつつ、selectedCandidatesとしてavailable_candidatesを渡すことで、選択された候補は強調表示・未選択候補は灰色disabledで表示するよう修正
- 2025-11-23: 貸切リクエスト管理ページのCandidateDateSelectorに複数候補選択対応を追加（gmSelectedCandidates、isReadOnly、isConfirmedプロップス追加）。GM確認済み・確定済み状態では、GMのavailable_candidatesを使って選択された候補を表示し、未選択候補は灰色+opacity-60で表示。確定済みの場合は選択候補を緑色で強調表示。
- 2025-11-23: 候補インデックスの不一致を修正（データベースのavailable_candidatesは0始まりだが、画面表示は1始まりの候補番号のため、.map(idx => idx + 1)で変換）
- 2025-11-23: 貸切リクエスト管理ページでGMが未回答の候補も選択可能に変更。GMが回答した候補には「GM対応可」バッジを表示、未回答候補を選択した場合は「⚠️ GMが未回答の候補です」と警告表示。確定済み以外の状態では全候補が選択可能。

---

## 注意事項
- **🚨 重要**: UI変更時は必ずこのドキュメントも更新（プロジェクトルール）
- 新しいバッジや要素を追加する場合は、該当セクションに詳細を記載
- 色の変更は `categoryConfig` または店舗色設定を参照
- 要素名は検索しやすい名前を付ける（例: "予約者数Badge", "GM情報div"）
