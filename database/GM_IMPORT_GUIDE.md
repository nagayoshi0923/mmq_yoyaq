# GMアサインメントデータのインポートガイド

## データ量について

提供いただいたGMリストデータには：
- 100以上のシナリオ
- 25名以上のスタッフ
- 数千件の組み合わせ

が含まれており、手動でSQLを書くのは非常に大変です。

## 推奨アプローチ

### オプション1: テンプレートを使用して段階的にインポート

**ファイル:** `database/import_gm_assignments_template.sql`

主要なシナリオ（グロリアメモリーズ、モノクローム、BrightChoice、BBA）のサンプルを作成しました。

**手順:**
1. テンプレートを参考に、同じパターンで追加
2. 少しずつインポート
3. 確認しながら進める

**メリット:**
- 安全
- 段階的に確認できる

**デメリット:**
- 時間がかかる

### オプション2: CSV/TSVファイルから一括インポート

GMリストデータをCSV形式で用意していただければ、一括インポート用のSQLを生成できます。

**必要なCSV形式:**
```csv
scenario_title,staff_name,can_main_gm,can_sub_gm,is_experienced
グロリアメモリーズ,きゅう,true,false,false
グロリアメモリーズ,れみあ,true,false,false
モノクローム,りえぞー,true,true,false
モノクローム,えりん,true,false,false
モノクローム,みずき,false,true,false
```

### オプション3: Webインターフェースで登録

フロントエンド（React）で以下の機能を実装：
1. シナリオを選択
2. スタッフを選択してGM可能状態を設定
3. 保存ボタンでデータベースに登録

**メリット:**
- UIで直感的に操作
- リアルタイムで確認
- 後からの変更も簡単

**デメリット:**
- フロントエンド実装が必要

## 現時点での推奨

### ステップ1: システム構築

```sql
-- 1. GMシステムのテーブル拡張
-- database/redesign_gm_system_v3.sql を実行
```

### ステップ2: サンプルデータで動作確認

```sql
-- 2. サンプルGMアサインメント（4シナリオ）
-- database/import_gm_assignments_template.sql を実行
```

確認：
```sql
SELECT * FROM staff_scenario_proficiency 
WHERE scenario_title IN ('グロリアメモリーズ', 'モノクローム');
```

### ステップ3: データ登録方法の選択

以下のいずれかを選択：

**A. テンプレートを複製して手動で追加**
- `import_gm_assignments_template.sql`を参考に続きを作成
- 10-20シナリオずつ分割して登録

**B. CSVファイルを作成して一括インポート**
- Excelでデータを整理してCSV出力
- 一括インポートスクリプトで処理

**C. フロントエンドで管理画面を作成**
- スタッフ管理画面にGM設定機能を追加
- UIで簡単に登録・編集

## テンプレートの使い方

`import_gm_assignments_template.sql`には4つのシナリオのサンプルがあります：

1. **グロリアメモリーズ**: 通常シナリオ（GM1人）
2. **モノクローム**: 2人GM必要（メイン・サブ・サブのみ混在）
3. **BrightChoice**: 通常シナリオ
4. **BBA**: 通常シナリオ

このパターンを繰り返して、他のシナリオも追加できます。

## 次のステップ

どの方法で進めますか？

A. テンプレートSQLを使って手動で追加していく
B. CSVファイルを作成して一括インポート用のスクリプトを作る
C. フロントエンドの管理画面を作成する（後で楽）

ご希望の方法を教えてください！

